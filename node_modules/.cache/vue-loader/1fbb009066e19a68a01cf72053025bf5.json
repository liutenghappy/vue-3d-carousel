{"remainingRequest":"C:\\Users\\Administrator\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\_vue-loader@15.9.6@vue-loader\\lib\\index.js??vue-loader-options!D:\\项目\\vue-3d-carousel\\src\\carousel-item.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\项目\\vue-3d-carousel\\src\\carousel-item.vue","mtime":1615659061200},{"path":"C:\\Users\\Administrator\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\_babel-loader@8.2.2@babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Administrator\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\_vue-loader@15.9.6@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgTWl4aW4gZnJvbSAiLi9taW54aW4iOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiY2Fyb3VzZWwtaXRlbSIsDQogIG1peGluczogW01peGluXSwNCiAgaW5qZWN0OiBbImNhcm91c2VsIl0sDQogIHByb3BzOiB7DQogICAgd2lkdGg6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICIyMDBweCINCiAgICB9DQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHRyYW5zbGF0ZTogMCwNCiAgICAgIHJvdGF0aW9uOiAwLA0KICAgICAgeDogMCwNCiAgICAgIHk6IDANCiAgICB9Ow0KICB9LA0KICBjb21wdXRlZDogew0KICAgIGluZGV4KCkgew0KICAgICAgcmV0dXJuIHRoaXMucGFyZW50Lml0ZW1zLmluZGV4T2YodGhpcyk7DQogICAgfSwNCiAgICBmdWxsV2lkdGgoKSB7DQogICAgICByZXR1cm4gdGhpcy4kZWwub2Zmc2V0V2lkdGg7DQogICAgfSwNCiAgICBmdWxsSGVpZ2h0KCkgew0KICAgICAgcmV0dXJuIHRoaXMuJGVsLm9mZnNldEhlaWdodDsNCiAgICB9LA0KICAgIHBhcmVudCgpIHsNCiAgICAgIHJldHVybiB0aGlzLmdldFBhcmVudCgiY2Fyb3VzZWwiKTsNCiAgICB9LA0KICAgIHNjYWxlKCkgew0KICAgICAgcmV0dXJuICgNCiAgICAgICAgdGhpcy5jYXJvdXNlbC5mYXJTY2FsZSArDQogICAgICAgICgxIC0gdGhpcy5jYXJvdXNlbC5mYXJTY2FsZSkgKiAoTWF0aC5zaW4odGhpcy5yb3RhdGlvbikgKyAxKSAqIDAuNQ0KICAgICAgKTsNCiAgICB9LA0KICAgIGl0ZW1TdHlsZSgpIHsNCiAgICAgIGNvbnN0IHZhbHVlID0gYHRyYW5zbGF0ZSgke3RoaXMueH1weCwke3RoaXMueX1weCkgc2NhbGUoJHt0aGlzLnNjYWxlfSlgOw0KICAgICAgY29uc3Qgc3R5bGUgPSB7DQogICAgICAgIHdpZHRoOiB0aGlzLndpZHRoLA0KICAgICAgICB0cmFuc2Zvcm06IHZhbHVlLA0KICAgICAgICB6SW5kZXg6ICgiIiArIHRoaXMuc2NhbGUgKiAxMDApIHwgMA0KICAgICAgfTsNCiAgICAgIHJldHVybiBzdHlsZTsNCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5wYXJlbnQuaXRlbXMucHVzaCh0aGlzKTsNCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICBjb25zb2xlLmxvZyh0aGlzLiRlbC5vZmZzZXRXaWR0aCk7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICByZW5kZXJJdGVtKCkgew0KICAgIC8vICAgY29uc29sZS5sb2codGhpcy5mdWxsV2lkdGgsIHRoaXMuZnVsbEhlaWdodCwgdGhpcy5wYXJlbnQueE9yaWdpbik7DQogICAgICB0aGlzLnggPQ0KICAgICAgICB0aGlzLnBhcmVudC54T3JpZ2luICsNCiAgICAgICAgdGhpcy5zY2FsZSAqDQogICAgICAgICAgKE1hdGguY29zKHRoaXMucm90YXRpb24pICogdGhpcy5wYXJlbnQueFIgLSB0aGlzLmZ1bGxXaWR0aCAqIDAuNSk7DQogICAgICB0aGlzLnkgPQ0KICAgICAgICB0aGlzLnBhcmVudC55T3JpZ2luICsNCiAgICAgICAgdGhpcy5zY2FsZSAqIE1hdGguc2luKHRoaXMucm90YXRpb24pICogdGhpcy5wYXJlbnQueVI7DQogICAgfSwNCiAgICBnbygpIHsNCiAgICAgIHRoaXMucGFyZW50LmdvVG8odGhpcy5pbmRleCk7DQogICAgfQ0KICB9LA0KICBjb21wb25lbnRzOiB7fSwNCiAgd2F0Y2g6IHt9DQp9Ow0K"},{"version":3,"sources":["carousel-item.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"carousel-item.vue","sourceRoot":"src","sourcesContent":["<template>\r\n  <div\r\n    @click=\"go\"\r\n    class=\"carousel-item\"\r\n    :style=\"itemStyle\"\r\n  >\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/javascript\">\r\nimport Mixin from \"./minxin\";\r\nexport default {\r\n  name: \"carousel-item\",\r\n  mixins: [Mixin],\r\n  inject: [\"carousel\"],\r\n  props: {\r\n    width: {\r\n      type: String,\r\n      default: \"200px\"\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      translate: 0,\r\n      rotation: 0,\r\n      x: 0,\r\n      y: 0\r\n    };\r\n  },\r\n  computed: {\r\n    index() {\r\n      return this.parent.items.indexOf(this);\r\n    },\r\n    fullWidth() {\r\n      return this.$el.offsetWidth;\r\n    },\r\n    fullHeight() {\r\n      return this.$el.offsetHeight;\r\n    },\r\n    parent() {\r\n      return this.getParent(\"carousel\");\r\n    },\r\n    scale() {\r\n      return (\r\n        this.carousel.farScale +\r\n        (1 - this.carousel.farScale) * (Math.sin(this.rotation) + 1) * 0.5\r\n      );\r\n    },\r\n    itemStyle() {\r\n      const value = `translate(${this.x}px,${this.y}px) scale(${this.scale})`;\r\n      const style = {\r\n        width: this.width,\r\n        transform: value,\r\n        zIndex: (\"\" + this.scale * 100) | 0\r\n      };\r\n      return style;\r\n    }\r\n  },\r\n  created() {\r\n    this.parent.items.push(this);\r\n  },\r\n  mounted() {\r\n    console.log(this.$el.offsetWidth);\r\n  },\r\n  methods: {\r\n    renderItem() {\r\n    //   console.log(this.fullWidth, this.fullHeight, this.parent.xOrigin);\r\n      this.x =\r\n        this.parent.xOrigin +\r\n        this.scale *\r\n          (Math.cos(this.rotation) * this.parent.xR - this.fullWidth * 0.5);\r\n      this.y =\r\n        this.parent.yOrigin +\r\n        this.scale * Math.sin(this.rotation) * this.parent.yR;\r\n    },\r\n    go() {\r\n      this.parent.goTo(this.index);\r\n    }\r\n  },\r\n  components: {},\r\n  watch: {}\r\n};\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n.carousel-item {\r\n  display: block;\r\n  transform-origin: 0 0;\r\n  position: absolute;\r\n  cursor: pointer;\r\n}\r\n</style>\r\n"]}]}